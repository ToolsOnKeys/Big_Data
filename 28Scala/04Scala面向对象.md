# 面向对象

* Scala的面向对象思想和Java中的面向对象的思想和概念是一致的
* Scala中的语法和Java不同，补充了更多的功能

## 1、Scala包

### ①、基本语法

* package 包名.类名

### ②、Scala包的三大作用（和Java一样）

* 区分相同名字的类
* 当类很多时，可以很好的管理类
* 控制访问的范围

### ③、包的命名

* 只能包含数字、字母、下划线、小圆点，但不能用数字开头，也不要使用关键字。

* 一般是小写字母+小圆点

### ④、包说明

* Scala有两种包的管理风格，一种方式和Java的包管理风格相同，每个源文件一个包（包名和源文件所在的路径不要求必须一致），包名用"."进行分隔一标识包的层级关系，如com.dinghao.scala;另外一种就是，通过嵌套的分隔表示层级关系，如下：

  ```scala
  package com{
  	package dinghao{
  		package scala{
  		}
  	}
  }
  //这种嵌套的方式：1、一个源文件可以声明多个package；2、子包中的类可以直接访问父包中的内容，而无需导包
  ```

### ⑤、导包说明

* 1、和Java一样，可以在顶部使用import导入，在这个文件中的所有类都可以使用。
* 2、局部导入：什么时候使用，什么时候导入。
* 3、通配符导入：import java.util
* 4、给类起名：import java.util.{ArrayList=>JL}
* 5、屏蔽类：import java.util.{ArrayList=?_, _}
* 6、导入多个类：import java.util.{Hash,ArrayList}
* 7、导入包的绝对路径：new _root _.java.util.HashMap

### ⑥、访问权限

* 在Java中，访问权限分为：public,private,protected和默认。在scala中，你可以通过类似的修饰符达到同样的效果。但是使用上还是有区别的。
* Scala中属性和方法的默认访问权限为public，但Scala中无public关键字
* private为私有权限，旨在类的内部和伴生对象中可用。
* protected为受保护权限，Scala中受保护权限比Java中更严格，同类、子类可以访问，同包无法访问
* private[包名]增加包访问权限，包名下的其他类也可以使用

## 2、类和对象

* 类：可以看成是一个模板；对象：表示具体的事物

### ①、类

* Scala中没有public，一个.scala中可以写多个类

* Scala中，类并不声明为public，所有这些类都具备共有可见性（即默认就是public）
* 一个Scala源文件可以包含多个类

### ②、属性

* 属性时类的一个组成部分
* 基本语法： [修饰符] var|val 属性名称 [:类型] = 属性值

### ③、方法

* 基本语法：

  def 方法名(参数列表)[:返回值类型]={

  ​	方法体

  }

### ④、创建对象

* 基本语法：

  var|val 对象名 [:类型] =new 类型()

* val修饰对象，不能改变对象的引用（即：内存地址），可以改变对象属性的值

* var修饰对象，可以修改对象的引用和修改对象的属性值

### ⑤、构造器

* 和Java一样，Scala初始化对象也需要调用构造方法，并且可以有任意多个构造方法（即Scala中构造器也支持重载）
* Scala类的构造器包括：主构造器（一个）和辅助构造器（多个）
* 在Scala中通过构造器（主构造器或者辅助构造器），通过形参的不同（个数或者类型），来构造重载
* Scala构造器作用时完成对新对象的初始化，构造器没有返回值
* 主构造器的声明直接放置于类名之后【反编译】
* 主构造器会执行类定义中的所有语句（把类中写的语句放入到主构造器），这里可以体会到Scala的函数式编程和面向对象编程融合在一起，即：构造器也是方法（函数），传递参数和使用方法和前面的函数部分内容没有区别【案例演示和反编译】
* 如果主构造器无参数，小括号可以省略，构建对象时调用的构造方法的小括号也可以省略
* 辅助构造器的名称为this（这个和Java不一样的），多个辅助构造器通过不同参数列表进行区分，在底层就是构造器重载
* 如果想让主构造器变成私有的，可以在（）之前添加private，这样用户不能直接通过主构造器来构造对象了
* 辅助构造器的声明不能和主构造器的声明一致，会发生错误（即构造器名重复）

#### 5.1、属性高级：

* Scala类的主构造器的形参为用任何修饰符修饰，那么这个参数时局部变量
* 如果参数使用val关键字声明，那么Scala会将参数作为类的私有的只读属性使用
* 如果参数使用var关键字的声明，那么Scala会将参数作为类的成员属性使用，并会提供属性对应的setter和getter方法，即这是的成员变量属性时私有的，但是可读写。

#### 5.2、Bean属性

* JavaBean规范定义了Java的属性的get、set方法。许多Java工具（框架）都依赖这个命名习惯。为了Java的互操作性。将Scala字段前添加@BeanProperty时，这样会自动生成规范的set、get方法。
* 生成的get、set和原有的方法并不冲突。可以共存。

#### 5.3、Scala对象创建的流程分析

* 进行类加载
* 堆中分配空间
* 进行默认初始化
* 调用父类的构造器
* 调用类的构造器
* 辅助构造器执行
* 堆地址的返回